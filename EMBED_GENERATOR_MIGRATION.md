# 埋め込みコード作成ツールの移行完了

## 実施した変更

### 新しいフォルダ構造

埋め込みコード作成ページを新しいフォルダ `embed-generator/` に移動し、Viteの開発環境で正しく動作するように再構築しました。

```
変更前:
├── docs/
│   ├── index.html          # 埋め込みコード作成ページ
│   ├── script.js           # 従来のスクリプト
│   └── style.css

変更後:
├── embed-generator/        # 新しいフォルダ
│   ├── index.html          # 再構築されたページ
│   ├── script.js           # ESモジュール対応スクリプト
│   └── style.css           # スタイルシート
├── docs/                   # 旧フォルダ（本番環境用に保持）
│   └── ...
```

## 主な改善点

### 1. ESモジュール対応
- `script.js` をESモジュール形式に変換
- `import '../src/turntable-viewer.js'` でローカルのウィジェットを直接インポート

### 2. 開発環境での動作
- Vite開発サーバーで正常に動作
- ホットモジュールリプレースメント対応
- ローカルのソースコードを使用してリアルタイムでテスト可能

### 3. プレビュー機能の改善
- プレビューのターンテーブルインスタンス管理を改善
- 初期化ロジックを簡素化
- エラーハンドリングを強化

### 4. HTMLの簡素化
- 不要なGoogle Tag Managerタグを削除（開発環境用）
- OGPタグなどのメタタグを削除（開発環境では不要）
- シンプルで保守しやすい構造に

## アクセス方法

### 開発環境
```
http://localhost:3000/embed-generator/index.html
```

または、トップページ（http://localhost:3000/）の「埋め込みコード作成ツール」リンクからアクセスできます。

## 使用方法

1. Vimeoの動画URL（例: https://vimeo.com/1118303126）を入力
2. 回転方向と埋め込み幅を設定
3. 「埋め込みコードを作成」ボタンをクリック
4. プレビューで動作を確認
5. 埋め込みコードをコピーして使用

## 注意事項

### 開発環境 vs 本番環境

- **開発環境（embed-generator/）**: ローカルのソースコードを使用してプレビュー表示
- **本番環境（docs/）**: CDN（jsdelivr）からウィジェットを読み込む前提の埋め込みコード生成

生成される埋め込みコードは、CDNから配信されるウィジェット（v0.1.4-beta）を参照します。

### docsフォルダについて

既存の `docs/` フォルダは、本番環境（GitHub Pages等）で公開する際に使用されます。開発環境では `embed-generator/` を使用してください。

## 今後の展開

本番環境で新しい埋め込みコード作成ツールを公開する場合は、以下の手順を実施してください:

1. `embed-generator/index.html` にGoogle Tag ManagerやOGPタグを追加
2. 必要に応じてデザインを調整
3. `docs/` フォルダの内容を `embed-generator/` の内容で置き換え
4. GitHub Pagesで公開

## 確認事項

✅ Vite開発サーバーで正常に動作  
✅ プレビュー機能が正常に動作  
✅ 埋め込みコード生成機能が正常に動作  
✅ コピー機能が正常に動作  
✅ トップページからのリンクが正常に動作
